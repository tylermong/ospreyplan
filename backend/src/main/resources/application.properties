spring.application.name=ospreyplan-backend

supabase.anon-key=${SUPABASE_ANON_KEY}
supabase.project-url=${SUPABASE_PROJECT_URL}
supabase.jwt-secret=${SUPABASE_JWT_SECRET}
frontend.base-url=${FRONTEND_BASE_URL}
backend.base-url=${BACKEND_BASE_URL}
auth.cookie-domain=${AUTH_COOKIE_DOMAIN}

auth.allowed-domains=${AUTH_ALLOWED_DOMAINS}

spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASS}
spring.datasource.driver-class-name=org.postgresql.Driver

# HikariCP Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=15
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.leak-detection-threshold=30000
spring.datasource.hikari.pool-prepared-statements=true
spring.datasource.hikari.data-source-properties.cachePrepStmts=true
spring.datasource.hikari.data-source-properties.prepStmtCacheSize=250
spring.datasource.hikari.data-source-properties.prepStmtCacheSqlLimit=2048
spring.datasource.hikari.data-source-properties.useServerPrepStmts=true

### Disabled for testing
spring.docker.compose.enabled=false

# Logging Configuration
logging.level.com.zaxxer.hikari=DEBUG
logging.level.com.zaxxer.hikari.HikariConfig=DEBUG
logging.level.com.zaxxer.hikari.pool.HikariPool=DEBUG

# Actuator Configuration for Health Monitoring
management.endpoints.web.exposure.include=health,metrics
management.endpoint.health.show-details=always
management.health.db.enabled=true
